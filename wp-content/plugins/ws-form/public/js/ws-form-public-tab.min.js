!function(t){"use strict";t.WS_Form.prototype.form_tab=function(){if(Object.keys(this.form.groups).length<=1)return!1;var e=this,a=void 0!==this.framework.tabs.public.selector_href?this.framework.tabs.public.selector_href:"href",o=parseInt(this.get_object_meta_value(this.form,"cookie_tab_index")?this.cookie_get("tab_index",0):0,10),s=this.get_query_var("wsf_tab_index_"+this.form.id);""!==s&&(o=parseInt(s,10));var i=t(".wsf-group-tabs",this.form_canvas_obj),r=i.children();if(void 0===r[o]||void 0!==t(r[o]).attr("data-wsf-group-hidden")){o=0;var _=t(":not([data-wsf-group-hidden])",r);_.length&&(o=_.first().index()),e.get_object_meta_value(e.form,"cookie_tab_index")&&e.cookie_set("tab_index",o)}"ws-form"===t.WS_Form.settings_plugin.framework?(i.hasClass("wsf-tabs")&&this.tabs_destroy(),this.tabs(i,{active:o})):this.form_tab_group_index_set(o);var n=this.framework.tabs.public;if(void 0!==n.event_js){var f=n.event_js,c=void 0!==n.event_type_js&&n.event_type_js,d=void 0!==n.event_selector_wrapper_js&&n.event_selector_wrapper_js,b=void 0!==n.event_selector_active_js&&n.event_selector_active_js;switch(c){case"wrapper":var l=t(d,this.form_canvas_obj);break;default:l=t("["+a+'^="#'+this.form_id_prefix+'group-"]',this.form_canvas_obj)}l.on(f,function(a,o){switch(c){case"wrapper":var s=t(b,l).index();break;default:s=t(this).parent().index()}e.get_object_meta_value(e.form,"cookie_tab_index")&&e.cookie_set("tab_index",s),!1!==e.object_focus&&(e.object_focus.trigger("focus"),e.object_focus=!1)})}},t.WS_Form.prototype.form_tab_validation=function(){var t=this;this.get_object_meta_value(this.form,"tab_validation")&&(this.form_canvas_obj.on("wsf-validate-silent",function(){t.form_tab_validation_process()}),this.form_tab_validation_process())},t.WS_Form.prototype.form_tab_validation_process=function(){if(this.get_object_meta_value(this.form,"tab_validation")){var e=this,a=!0,o=void 0!==this.framework.tabs.public.selector_href?this.framework.tabs.public.selector_href:"href",s=t(".wsf-group-tabs > :not([data-wsf-group-hidden]) > ["+o+"]",this.form_canvas_obj),i=s.length,r=0;s.each(function(e){if(t(t(this).attr(o)).is(":visible"))return r=e,!1}),s.each(function(s){if(e.form_tab_validation_previous(t(this),a),s<i-1){if(!0===a)var _=e.object_validate(t(t(this).attr(o)));else _=!1;e.form_tab_validation_current(t(this),_),a=_}!_&&r>s&&e.form_tab_group_index_set(s)}),this.form_navigation()}},t.WS_Form.prototype.form_tab_validation_current=function(e,a){var o=void 0!==this.framework.tabs.public.selector_href?this.framework.tabs.public.selector_href:"href",s=e.attr(o),i=t(s,this.form_canvas_obj),r=t('button[data-action="wsf-tab_next"]',i),_=this.get_object_meta_value(this.form,"tab_validation_show");a?_?i.attr("data-wsf-validated",""):r.removeAttr("disabled"):_?i.removeAttr("data-wsf-validated"):r.attr("disabled","")},t.WS_Form.prototype.form_tab_validation_previous=function(t,e){var a=this.framework.tabs.public;void 0!==a.class_disabled&&(e?t.removeClass(a.class_disabled).removeAttr("data-wsf-tab-disabled").removeAttr("tabindex"):t.addClass(a.class_disabled).attr("data-wsf-tab-disabled","").attr("tabindex","-1")),void 0!==a.class_parent_disabled&&(e?t.parent().removeClass(a.class_parent_disabled):t.parent().addClass(a.class_parent_disabled))},t.WS_Form.prototype.form_tab_group_index_new=function(e,a){this.form_tab_group_index_set(a);var o=e.closest("[data-id]").attr("data-id"),s=this.field_data_cache[o],i=this.get_object_meta_value(s,"scroll_to_top",""),r=this.get_object_meta_value(s,"scroll_to_top_offset","0");r=""==r?0:parseInt(r,10);var _=this.form_canvas_obj.offset().top-r;switch(i){case"instant":t("html,body").scrollTop(_);break;case"smooth":var n=this.get_object_meta_value(s,"scroll_to_top_duration","0");n=""==n?0:parseInt(n,10),t("html,body").animate({scrollTop:_},n)}},t.WS_Form.prototype.form_tab_group_index_set=function(e){if(Object.keys(this.form.groups).length<=1)return!1;var a=this.framework.tabs.public;if(void 0!==a.activate_js){var o=a.activate_js;if(""!=o){var s={form:"#"+this.form_obj_id,index:e},i=this.mask_parse(o,s);t.globalEval("(function($) { $(function() {"+i+"}); })(jQuery);"),this.cookie_set("tab_index",e)}}}}(jQuery);